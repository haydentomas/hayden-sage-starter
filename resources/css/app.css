/* -----------------------------------------------------
   Tailwind imports (TW4 syntax)
----------------------------------------------------- */
@import "tailwindcss" theme(static);

/* Your custom CSS files */
@import "./smartmenus.css";
@import "./smartmenus-theme.css";
@import "./fonts.css";
@import "./parts/theme.css";

@plugin "@tailwindcss/typography";

/* -----------------------------------------------------
   Tell Tailwind to scan theme + plugin files
----------------------------------------------------- */
@source "../views/";
@source "../../app/";
@source "../../../../plugins/fancoolo/**/*.{php,html,js,ts,vue,twig}";
@source "../../../../plugins/fancoolo-blocks/**/*.{php,html,js,ts,vue,twig}";


/* -----------------------------------------------------
   BASE STYLES — typography, spacing, structure
----------------------------------------------------- */


@layer base {
body {
  @apply font-serif leading-relaxed text-body;
  font-size: var(--body-font-size-mobile);
}

@media (min-width: 768px) {
  body {
    font-size: var(--body-font-size-desktop);
  }
}

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-sans font-semibold text-headings;
  }

  /* Mobile defaults */
  h1 {
    font-size: var(--h1-font-size-mobile);
    @apply mb-4;
  }

  h2 {
    font-size: var(--h2-font-size-mobile);
    @apply mb-3;
  }

  h3 {
    font-size: var(--h3-font-size-mobile);
    @apply mb-2;
  }

  /* md: and up — mirrors Tailwind's 768px breakpoint */
  @media (min-width: 768px) {
    h1 {
      font-size: var(--h1-font-size-desktop);
    }

    h2 {
      font-size: var(--h2-font-size-desktop);
    }

    h3 {
      font-size: var(--h3-font-size-desktop);
    }
  }


  p {
    @apply mb-4 text-body-muted;
  }

  ul,
  ol {
    @apply mb-4 pl-5;
  }

  a {
    @apply text-primary underline-offset-2;
  }

  a:hover {
    @apply underline;
  }
}



.site {
  display: flex;
  min-height: 100vh;
  flex-direction: column;
}

.site-content {
  flex: 1;
}


.filter-btn.is-active {
  @apply bg-[var(--color-primary)] text-white border-transparent;
}




/* ============================================================
   BBI / Sage SmartMenus – Full-width mega menu (desktop)
   ============================================================ */

@media (min-width: 768px) {

  /* Navbar is the positioning context */
  .sm-navbar {
    position: relative;
  }

  /* Mega container: full width of header container */
  .sm-navbar .sm-sub--mega {
    position: absolute;
    top: 100%;          /* directly under the navbar */
    left: 0;
    width: 100%;
    margin: 0;

    padding: 1.5rem 1.75rem;
    background: #05070c;
    border-radius: 0 0 1rem 1rem;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
    z-index: 1000;
  }

   .sm-navbar .sm-sub--mega ul {
    margin:0;
    padding:0;
   }
   .sm-navbar .sm-sub--mega ul a:hover {
    background:none;
    color:var(--color-primary);
   }
  /* Show/hide based on aria (SmartMenus toggles this) */
  .sm-navbar .sm-sub--mega[aria-hidden="true"] {
    display: none !important;
  }

  .sm-navbar .sm-sub--mega[aria-hidden="false"] {
    display: block !important;
    width:100% !important;
  }

  /* Inner grid wrapper (supports either .mega-grid or .mega-inner) */
  .sm-navbar .sm-sub--mega .mega-grid,
  .sm-navbar .sm-sub--mega .mega-inner {
    max-width: 72rem;        /* match your content container (e.g. ~1152px) */
    margin: 0 auto;
    display: grid;
    gap: 1.5rem 2rem;
  }

  /* Column counts – walker outputs mega-cols-[1-4] */
  .sm-navbar .sm-sub--mega .mega-grid.mega-cols-2,
  .sm-navbar .sm-sub--mega .mega-inner.mega-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .sm-navbar .sm-sub--mega .mega-grid.mega-cols-3,
  .sm-navbar .sm-sub--mega .mega-inner.mega-cols-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .sm-navbar .sm-sub--mega .mega-grid.mega-cols-4,
  .sm-navbar .sm-sub--mega .mega-inner.mega-cols-4 {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }

  /* Column card styling */
  .sm-navbar .sm-sub--mega .mega-col {
    background: #0d1015;
    padding: 1.5rem;
    border-radius: 12px;
  }

  .sm-navbar .sm-sub--mega .mega-col-title {
    font-weight: 700;
    margin-bottom: 0.75rem;
    text-transform: uppercase;
    font-family: var(--font-sans);

  }

   .sm-navbar .sm-sub--mega .mega-col-title a {
    text-decoration:none;
   }

  /* Links inside mega columns */
  .sm-navbar .sm-sub--mega .mega-col .sm-sub-link {
    display: block;
    padding: 0.25rem 0;
  }
}


@media (max-width: 768px) {
  .sm-nav-link.sm-expanded {
    border-radius: var(--sm-collapsible-nav-link-expanded-border-radius);
    background: var(--color-secondary);
    color: inherit;
  }

.mega-grid {

  border-radius:5px;
  padding-top:10px
}
.mega-col-title {
  margin-left:10px;
  margin-bottom:10px;
  font-weight: bold;
  text-transform:uppercase;
font-family: "Cabin";
}
.mega-col-links {
  padding:0;
}


}


/* ============================================================
   NAV COLOUR SYSTEM
   Uses Customizer tokens for desktop, dropdown/mega and mobile
   ------------------------------------------------------------ */

/* Top-level items (desktop) */
.site-header .sm-nav-link {
  color: var(--color-nav-link);
  background: transparent;
}

.site-header .sm-nav-link:hover,
.site-header .sm-nav-link:focus,
.site-header .sm-nav-link--current,
.site-header .sm-nav-link--active {
  background: var(--color-nav-link-hover); /* usually your primary */
  color: #ffffff;
}

/* Dropdown / mega panel background */
.site-header .sm-sub,
.site-header .sm-sub--mega {
  background: var(--color-nav-sub-bg);
}

/* Dropdown / mega item links */
.site-header .sm-sub-link {
  color: var(--color-nav-sub-link);
  background: transparent;
}

.site-header .sm-sub-link:hover,
.site-header .sm-sub-link:focus,
.site-header .sm-sub-link--current {
  background: var(--color-nav-sub-hover-bg);
  color: var(--color-nav-sub-link);
}

/* ============================================================
   MOBILE NAV (<= 768px)
   ------------------------------------------------------------ */
@media (max-width: 768px) {
  /* Top-level items become solid primary (same as desktop active) */
  .site-header .sm-nav-link {
    display: block;
    background: var(--color-nav-link-hover);
    color: #ffffff;
    border-radius: 0.375rem; /* MATCH DESKTOP "ABOUT" RADIUS */
    padding: 0.75rem 1rem;
  }

  .site-header .sm-nav-link:hover,
  .site-header .sm-nav-link:focus,
  .site-header .sm-nav-link--current,
  .site-header .sm-nav-link--active {
    background: var(--color-nav-link-hover);
    color: #ffffff;
    border-radius: 0.375rem; /* keep consistent */
  }

  /* Dropdown / mega panels */
  .site-header .sm-sub,
  .site-header .sm-sub--mega {
    background: var(--color-nav-sub-bg);
    border-radius: 0.375rem; /* keep consistent with top-level */
  }

  .site-header .sm-sub-link {
    background: transparent;
    color: var(--color-nav-sub-link);
    border-radius: 0.375rem;
  }

  .site-header .sm-sub-link:hover,
  .site-header .sm-sub-link:focus,
  .site-header .sm-sub-link--current {
    background: var(--color-nav-sub-hover-bg);
    color: var(--color-nav-sub-link);
  }
}








/* ============================================================
   Mega menu parent arrow (Services)
   Mobile-only tweaks – desktop uses default SmartMenus styles
   ------------------------------------------------------------ */
@media (max-width: 768px) {

  /* Target <a class="sm-nav-link sm-sub-toggler sm-has-sub"> on "Services" */
  .site-header .sm-nav-item--has-mega > .sm-nav-link.sm-sub-toggler {
    position: relative;
    padding-right: 3rem; /* space for divider + arrow */
  }

  /* Divider like the projects split button */
  .site-header .sm-nav-item--has-mega > .sm-nav-link.sm-sub-toggler::before {
    content: "";
    position: absolute;

    /* Match height + vertical position of split-button divider */
    top: 22%;
    bottom: 22%;

    /* Divider position */
    right: 3.35rem;

    width: 1px;
    background-color: rgba(255, 255, 255, 0.25);
  }

  /* Custom arrow, right-aligned */
  .site-header .sm-nav-item--has-mega > .sm-nav-link.sm-sub-toggler::after {
    content: "";
    position: absolute;
    top: 50%;
    right: 1rem;
    width: 0.65rem;          /* match split arrow */
    height: 0.65rem;

    border-style: solid;
    border-width: 0 0 2px 2px;
    border-color: currentColor;
    opacity: 0.7;
    transform: translateY(-10%) rotate(-45deg);  /* pointing down, centred */
  }

  /* When mega is open, flip the arrow up (still centred) */
  .site-header .sm-nav-item--has-mega
    > .sm-nav-link.sm-sub-toggler[aria-expanded="true"]::after {
    transform: translateY(-50%) rotate(135deg);
  }
}



/* ============================================================
   Mega menu – mobile card layout (match desktop feel)
   ------------------------------------------------------------ */
@media (max-width: 768px) {
  /* Stack columns vertically */
  .site-header .sm-sub--mega .mega-grid {
    display: block;
    padding: 0.75rem 0.75rem 1rem;
  }

  /* Each mega column becomes a card */
  .site-header .sm-sub--mega .mega-col {
    background-color: var(--color-surface-soft); /* same dark card bg as desktop */
    border-radius: 0.9rem;
    padding: 1rem 1.25rem;
    margin-bottom: 0.75rem;
    box-shadow: 0 18px 45px rgba(0, 0, 0, 0.55);
  }

  .site-header .sm-sub--mega .mega-col:last-child {
    margin-bottom: 0;
  }

  /* Title + links aligned to same left edge */
  .site-header .sm-sub--mega .mega-col-title {
    display: block;
    margin: 0 0 0.5rem;
    padding: 0;                 /* remove any extra padding */
  }

  .site-header .sm-sub--mega .mega-col-links {
    margin: 0;
    padding: 0;
    list-style: none;
  }

  .site-header .sm-sub--mega .mega-col-links .sm-sub-link {
    display: block;
    padding: 0;                 /* kill SmartMenus left padding */
    margin: 0.1rem 0;
  }



   /* Make each link appear as a pill */
  .site-header .sm-sub--mega .mega-col-links .sm-sub-link {
    display: block;
    width: 100%;
    background-color: var(--color-nav-sub-hover-bg);
    color: #fff;
    border-radius: 0.75rem;
    padding: 0.35rem 0.75rem;
    margin: 0.35rem 0;
    text-decoration: none;
  }

  /* Hover/focus/active effect to match desktop behaviour */
  .site-header .sm-sub--mega .mega-col-links .sm-sub-link:hover,
  .site-header .sm-sub--mega .mega-col-links .sm-sub-link:focus {
    background-color: color-mix(in srgb, var(--color-nav-sub-hover-bg) 75%, black);
  }

  /* Remove SmartMenus default left padding completely */
  .site-header .sm-sub--mega .mega-col-links .sm-sub-item {
    padding-left: 0 !important;
    margin-left: 0 !important;
  }
}





/* ============================================================
   Mega menu column titles
   ------------------------------------------------------------ */

/* Desktop + mobile – titles inside mega columns */
.site-header .mega-col-title {
  color: var(--color-nav-sub-link);    /* same as dropdown link colour (orange) */
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.75rem;
  letter-spacing: 0.06em;
  margin-bottom: 0.5rem;
}



















/* ============================================================
   MOBILE – Only highlight ACTIVE / EXPANDED submenu items
   Uses Customizer variable: --color-nav-sub-hover-bg
   ------------------------------------------------------------ */
@media (max-width: 768px) {

  /* Default: ALL submenu links remain transparent */
  .site-header .sm-sub-link {
    background: transparent;
    color: var(--color-nav-sub-link);
  }

  /* ------------------------------------------------------------
     1) ACTIVE LEAF PAGE (the current actual page)
     ------------------------------------------------------------ */
  .site-header .sm-sub-link--current,
  .site-header .sm-sub-link[aria-current="page"] {
    background: var(--color-nav-sub-hover-bg) !important;
    color: #fff;
    border-radius: 0.75rem;
    padding: 0.55rem 1rem;
    margin-bottom: 5px;
    margin-right: 0 !important;
    display: block;
  }

  /* ------------------------------------------------------------
     2) OPEN PARENT (expanded = child menu visible)
     This is the pill you wanted — ONLY for the expanded parent.
     ------------------------------------------------------------ */
  .site-header .sm-sub-link--split.sm-has-sub.sm-expanded {
    background: var(--color-nav-sub-hover-bg) !important;
    color: #fff;
    border-radius: 0.75rem;
    padding: 0.55rem 1rem;
    margin-bottom: 5px;
    margin-right: 0 !important;
    display: block;
  }

  /* ------------------------------------------------------------
     3) Clean the toggler button that sits to the right
     (prevents duplicate arrows & keeps layout tidy)
     ------------------------------------------------------------ */
  .site-header .sm-sub-link--split.sm-sub-toggler {
    background: transparent !important;
    border-radius: 0;
    margin: 0;
    padding: 0.55rem 0.75rem;
  }
}








/* Global CTA button font fix */
.menu-item-cta a,
a.menu-item-cta,
.cta-button,
.btn-primary,
.start-project-btn {
  font-family: var(--font-sans) !important; /* Cabin everywhere */
  text-decoration:none;
}


/* Hide desktop CTA on tablet portrait, keep it on real desktop */
@media (min-width: 768px) and (max-width: 1024px) {
  .site-header .menu-item-cta--desktop {
    display: none;
  }
}


/* Hide the *mobile* CTA menu item on tablet portrait (768–1023px) */
@media (min-width: 768px) and (max-width: 1023px) {
  .site-header .menu-item-cta {
    display: none;
  }
}



/* Footer widgets */
.site-footer .widget {
  color: var(--color-footer-widget-text);
}

.site-footer .widget a {
  color: var(--color-footer-widget-link);
}

.site-footer .widget h2,
.site-footer .widget .wp-block-heading {
  color: var(--color-footer-widget-heading);
}




/* Footer widget base text colour */
.site-footer .widget {
  color: var(--color-footer-widget-text);
}

/* Belt-and-braces for common text elements inside footer widgets */
.site-footer .widget p,
.site-footer .widget li,
.site-footer .widget span,
.site-footer .widget div {
  color: var(--color-footer-widget-text);
}














@layer utilities {
  .space-none {
    --section-space-mobile: 0 !important;
    --section-space-desktop: 0 !important;
  }

  .space-tight {
    --section-space-mobile: 1.5rem !important;
    --section-space-desktop: 2.5rem !important;
  }

  .space-loose {
    --section-space-mobile: 4rem !important;
    --section-space-desktop: 6rem !important;
  }
}


.site-header.is-sticky {
  position: sticky;
  top: 0;
  z-index: 100;
  background: transparent;
  transition:
    box-shadow 150ms ease,
    background-color 150ms ease;
}

/* Only AFTER scroll */
.site-header.is-sticky.is-sticky-scrolled {
  background: var(--color-surface);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
}






/* Make Tailwind Typography follow theme customizer sizing */
.prose {
  font-size: var(--body-font-size-desktop);
  line-height: 1.75;
}

@media (max-width: 767px) {
  .prose {
    font-size: var(--body-font-size-mobile);
  }
}

/* Headings inside prose */
.prose :where(h1):not(:where([class~="not-prose"], [class~="not-prose"] *)) {
  font-size: var(--h1-font-size-desktop);
}
.prose :where(h2):not(:where([class~="not-prose"], [class~="not-prose"] *)) {
  font-size: var(--h2-font-size-desktop);
}
.prose :where(h3):not(:where([class~="not-prose"], [class~="not-prose"] *)) {
  font-size: var(--h3-font-size-desktop);
}

@media (max-width: 767px) {
  .prose :where(h1):not(:where([class~="not-prose"], [class~="not-prose"] *)) { font-size: var(--h1-font-size-mobile); }
  .prose :where(h2):not(:where([class~="not-prose"], [class~="not-prose"] *)) { font-size: var(--h2-font-size-mobile); }
  .prose :where(h3):not(:where([class~="not-prose"], [class~="not-prose"] *)) { font-size: var(--h3-font-size-mobile); }
}



:root{
  --radius-sm: 0.125rem; /* rounded-sm (2px) */
  --radius-md: 0.375rem; /* rounded-md (6px) */
  --radius-lg: 0.5rem;   /* rounded-lg (8px) */
  --radius-xl: 0.75rem;  /* rounded-xl (12px) */
  --radius-2xl: 1rem;    /* rounded-2xl (16px) */
  --radius-pill: 9999px; /* rounded-full */
}

@layer utilities {
  .h-radius-sm   { border-radius: var(--radius-sm) !important; }
  .h-radius-md   { border-radius: var(--radius-md) !important; }
  .h-radius-lg   { border-radius: var(--radius-lg) !important; }
  .h-radius-xl   { border-radius: var(--radius-xl) !important; }
  .h-radius-2xl  { border-radius: var(--radius-2xl) !important; }
  .h-radius-pill { border-radius: var(--radius-pill) !important; }
}

.rounded-sm  { border-radius: var(--radius-sm) !important; }
.rounded-md  { border-radius: var(--radius-md) !important; }
.rounded-lg  { border-radius: var(--radius-lg) !important; }
.rounded-xl  { border-radius: var(--radius-xl) !important; }
.rounded-2xl { border-radius: var(--radius-2xl) !important; }
.rounded-full { border-radius: var(--radius-pill) !important; }



/* NAV: pill link style should respect global radius token */
.nav-style-pill .menu > li > a,
.nav-style-pill .sm-navbar .menu > li > a,
.nav-style-pill .site-header .menu > li > a {
  border-radius: var(--radius-pill) !important;
}


/* Dropdown panel + items */
.nav-style-pill .sub-menu,
.nav-style-pill .dropdown-menu {
  border-radius: var(--radius-lg) !important;
  overflow: hidden;
}

.nav-style-pill .sub-menu a,
.nav-style-pill .dropdown-menu a {
  border-radius: 0 !important; /* keeps the panel clean */
}
